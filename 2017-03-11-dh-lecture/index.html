<!doctype html>
<html lang="de">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>DH Lecture: Network Analysis, pt.¬†I (11 March 2017)</title>

		<link rel="stylesheet" href="../reveal/css/reveal.css">
		<link rel="stylesheet" href="../reveal/css/theme/simple.css">

      <!-- adjustments for serif.css -->
      <link rel="stylesheet" href="custom.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="../reveal/lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? '../reveal/css/print/pdf.css' : '../reveal/css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
			    <section data-markdown="" data-separator="^\n---\n" data-separator-vertical="^\n--\n" data-charset="utf-8">
<script type="text/template">

### –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –≤ –≥—É–º–∞–Ω–∏—Ç–∞—Ä–Ω—ã—Ö –Ω–∞—É–∫–∞—Ö

<br />üíª

<br />
–ë–æ–Ω—á-–û—Å–º–æ–ª–æ–≤—Å–∫–∞—è –ê. –ê.<br />
–§–∏—à–µ—Ä –§.<br />
–û—Ä–µ—Ö–æ–≤ –ë. –í.<br />
–°–∫–æ—Ä–∏–Ω–∫–∏–Ω –î. –ê.<!-- .element: style="font-size:0.75em;" -->

<br /><br >
(40 –ª–µ–∫—Ü, 40 —Å–µ–º)<!-- .element: style="font-size:0.65em;" -->

--

## Seventh Lecture
### Network Analysis, Pt.¬†I (of III)

<br /><br />
Frank Fischer ¬∑ Danil Skorinkin

(ffischer@hse.ru) ¬∑ (daskorinkin@edu.hse.ru)<!-- .element: style="font-size:0.75em;" -->

<br /><br />11 March 2017</p>

--

### Recap of Last Session

<br />
- Introduction to Visual Analytics

--

### Path to Second Colloquium

<br />

| Date | Topic |
|:-|:-|
| 4 –º–∞—Ä—Ç | Visual Analytics |
| **11 –º–∞—Ä—Ç** | **Network Analysis 1** |
| 18 –º–∞—Ä—Ç | Network Analysis 2 |
| 25 –º–∞—Ä—Ç | Network Analysis 3 |
| 8 –∞–ø—Ä–µ–ª—å | Colloquium ‚Äì Presentations |

--

### Agenda for Today

<br />
1. Moretti's Intuitive "Network Theory"
2. History of Network Theory
3. Weighted and Directed Graphs
3. Social Network Analysis
4. Graph- and Node-Related Measures
5. Formalisation of Interactions
5. Seminar: Introduction to Gephi
6. Weekend üå¥

--

# ‚Üí

---

### Moretti's Intuitive Network Theory

<br />
- Presentation by Artem Kolganov / Maxim Konyaev

--

# ‚Üí

---

## Network Theory ‚Ä¶

<br>
"‚Ä¶ is the study of graphs as a representation of (‚Ä¶) relations between discrete objects." (Wikipedia)

--

#### Small example network graph with<br />8 vertices (nodes) and 10 edges:

<br>
![Simple network (from Wikimedia Commons)](images/small_network.png)<!-- .element width="434px;" -->

<br>
<small>Source: [Wikimedia Commons](https://commons.wikimedia.org/wiki/File:Small_Network.png)</small>

--

### The Emergence of Graph Theory ‚Ä¶

<br>
‚Ä¶ was Euler's solution of the K√∂nigsberg bridge problem.

![Map of K√∂nigsberg (from Wikimedia Commons)](images/kenig-1.png)<!-- .element width="440px;" -->

<small>Historical map of K√∂nigsberg, highlighting river Pregel<br>and the seven bridges. (Source: [Wikimedia Commons](https://commons.wikimedia.org/wiki/File:Konigsberg_bridges.png))</small>

--

#### Abstraction from ‚Ä¶

![Map of K√∂nigsberg (from Wikimedia Commons)](images/kenig-2.png)<!-- .element height="160px;" -->

<small>‚Ä¶ to ‚Ä¶</small>

![Map of K√∂nigsberg (from Wikimedia Commons)](images/kenig-3.png)<!-- .element height="160px;" -->

<small>From the seven bridges (source: [Wikimedia Commons](https://commons.wikimedia.org/wiki/File:7_bridges.svg))<br>to an abstract graph (source: [Wikimedia Commons](https://commons.wikimedia.org/wiki/File:K√∂nigsberg_graph.svg)).</small>

--

### Features of Euler's Abstraction

<br />
- landmasses: nodes, bridges: edges
- precise location of bridges is irrelevant
- number of bridges and their endpoints are key for the solution of the problem:
  - all four landmasses are reached by an odd number of bridges, when there should be a maximum of two landmasses (nodes) with an odd number of bridges (edges); these two landmasses could then serve as starting and end point, whereas the other two banks would have to feature an even number of bridges leading to them

--

### Skit: Anecdote from Wikipedia

<br />
"–í 1905 –≥–æ–¥—É –±—ã–ª –ø–æ—Å—Ç—Ä–æ–µ–Ω –ò–º–ø–µ—Ä–∞—Ç–æ—Ä—Å–∫–∏–π –º–æ—Å—Ç, (‚Ä¶). –°—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–µ–≥–µ–Ω–¥–∞ –æ —Ç–æ–º, —á—Ç–æ —ç—Ç–æ—Ç –º–æ—Å—Ç –±—ã–ª –ø–æ—Å—Ç—Ä–æ–µ–Ω –ø–æ –ø—Ä–∏–∫–∞–∑—É —Å–∞–º–æ–≥–æ –∫–∞–π–∑–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–µ —Å–º–æ–≥ —Ä–µ—à–∏—Ç—å –∑–∞–¥–∞—á—É –º–æ—Å—Ç–æ–≤ –ö—ë–Ω–∏–≥—Å–±–µ—Ä–≥–∞ (‚Ä¶) (–µ—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –≤–æ—Å—å–º–æ–π –º–æ—Å—Ç, —Ç–æ –∑–∞–¥–∞—á–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ä–∞–∑—Ä–µ—à–∏–º–æ–π)."

<br />
<small>Source: ["–ó–∞–¥–∞—á–∞ –æ —Å–µ–º–∏ –∫—ë–Ω–∏–≥—Å–±–µ—Ä–≥—Å–∫–∏—Ö –º–æ—Å—Ç–∞—Ö"](https://ru.wikipedia.org/wiki/%D0%97%D0%B0%D0%B4%D0%B0%D1%87%D0%B0_%D0%BE_%D1%81%D0%B5%D0%BC%D0%B8_%D0%BA%D1%91%D0%BD%D0%B8%D0%B3%D1%81%D0%B1%D0%B5%D1%80%D0%B3%D1%81%D0%BA%D0%B8%D1%85_%D0%BC%D0%BE%D1%81%D1%82%D0%B0%D1%85) (Wikipedia article, last updated 23 Nov 2016‚Äé)</small>

--

# ‚Üí

---

## Weighted and Directed Graphs

<br />
- Euler's graph of the K√∂nigsberg bridges was unweighted and undirected

--

### Directed Graph

<br />
![simple directed graph (from Wikimedia Commons)](images/directed-graph-from-wikimedia-commons.png)<!-- .element height="180px;" -->

<br />
<small>Source: [Wikimedia Commons](https://commons.wikimedia.org/wiki/File:Directed.svg)</small>

--

### Weighted Graph

<br />
![simple weighted graph (from Wikimedia Commons)](images/weighted-graph-from-wikimedia-commons.png)<!-- .element height="227px;" -->

<br />
<small>Source: [Wikimedia Commons](https://commons.wikimedia.org/wiki/File:Weighted_network.svg)</small>

--

### A Weighted Graph: Moscow Metro (1/4)

![Moscow Metro 2010 (from Wikimedia Commons)](images/moscow_metro_map_2010.jpg)<!-- .element height="500px;" -->

<small>Source: [Wikimedia Commons](https://commons.wikimedia.org/wiki/File:Moscow_metro_map_2010-mhr.png)</small>

--

### A Weighted Graph: Moscow Metro (2/4)

![Yandex.Metro App (screenshot)](images/metro-app-1.jpg)<!-- .element height="500px;" -->

<small>Screenshot: –Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–æ App</small>

--

### A Weighted Graph: Moscow Metro (3/4)

![Yandex.Metro App (screenshot)](images/metro-app-2.jpg)<!-- .element height="500px;" -->

<small>Screenshot: –Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–æ App</small>

--

### A Weighted Graph: Moscow Metro (4/4)

![Yandex.Metro App (screenshot)](images/metro-app-3.jpg)<!-- .element height="500px;" -->

<small>Screenshot: –Ø–Ω–¥–µ–∫—Å.–ú–µ—Ç—Ä–æ App</small>

--

# ‚Üí

---

## Social Network Analysis ‚Ä¶

<br>"‚Ä¶ is the process of investigating social structures through the use of network and graph theories." (Wikipedia)

--

### Social Network Analysis (SNA)

<br />
- SNA started as a bundle of approaches developed in the Social Sciences since the 1930s
- 'Harvard Breakthrough' in the 1960s (centered around sociologist [Harrison White](https://en.wikipedia.org/wiki/Harrison_White)): sociologists, mathematicians and programmers flesh out a distinct structural-analytical perspective on social phenomena
- 1990s: new perspectives on network structures with the advent of the internet, applications in Physics and Bioinformatics; Literary Studies started to focus on SNA around half a decade ago

--

### One of the First Sociograms

![Jacob L. Moreno, Sociogram](images/moreno-emotions-mapped.png)<!-- .element width="380px;" -->

<small>"Class structure, 4th grade". Work by Jacob L. Moreno (1889‚Äì1974).<br />(First published in NYT, [3 April 1933](http://connectedness.blogspot.de/2005/05/stanley-wasserman-and-visible-path.html). Source for this PNG: [martingrandjean.ch](http://www.martingrandjean.ch/social-network-analysis-visualization-morenos-sociograms-revisited/).)</small>

--

### Basic Bibliography

<br />
- [Stanley Wasserman](https://www.hse.ru/en/org/persons/120496236), Katherine Faust: [*Social Network Analysis: Methods and Applications*](https://books.google.com/books?id=CAm2DpIqRUIC&printsec=frontcover), 1994
  - still the standard reference for the foundations of Social (!) Network Analysis, published long before SNA hype
- Alain Degenne, Michel Fors√©: [*Introducing Social Networks*](https://books.google.com/books?id=1mSHqydgrYcC&printsec=frontcover), orig. 1994, transl. 1999
- John Scott: *Social Network Analysis: A Handbook*, 2nd ed. 2000.
- John Scott, Peter J. Carrington (eds.): [*The SAGE Handbook of Social Network Analysis*](https://books.google.com/books?id=mWlsKkIuFNgC&printsec=frontcover), 2011

--

# ‚Üí

---

## Graph-Related Measures

<br />
- Network Size
- Maximum Degree
- Average Degree
- Density
- Average Path Length
- ‚Ä¶

--

### Example

![three nodes](images/three-nodes.png)<!-- .element height="400px;" -->

What is the (a) network size, (b) maximum degree, (c) average degree, (d) density, (e) average path length of this network?

--

## Node-Related Measures

--

### Degree

<br>
![Degree](images/moretti-hamlet-degree.jpg)<!-- .element height="432px;" -->

<br>
<small>In Moretti's formalisation, Hamlet has direct relations to 16 characters (= his degree).<br />(Source: *–î–∞–ª—å–Ω–µ–µ —á—Ç–µ–Ω–∏–µ*, p. 294.)</small>

--

### Average Distance

<br />
- in Moretti's formalisation, Hamlet has an average distance (from all other characters) of 1.45
- average distance from Claudius: 1.62
- Horatio: 1.69

--

### Betweenness Centrality

<br />
- "a measure of centrality in a graph based on shortest paths"
- "For every pair of vertices in a graph, there exists a shortest path between the vertices such that either the number of edges that the path passes through (for undirected graphs) or the sum of the weights of the edges (for directed graphs) is minimized. The betweenness centrality for each node is the number of these shortest paths that pass through the node." (Wikipedia)

--

## Closeness Centrality

<br />
- "the sum of the length of the shortest paths between the node and all other nodes in the graph"

--

## PageRank

<br />
- "PageRank works by counting the number and quality of links to a page to determine a rough estimate of how important the website is. The underlying assumption is that more important websites are likely to receive more links from other websites." (quotes in Wikipedia)

--

### Periodic Table of Network Centrality

<br />
- http://schochastics.net/sna/periodic.html

--

### Social Networks Extracted from Movies

![Screenshot from website](images/moviegalaxies-screenshot.png)<!-- .element width="642px;" -->

<small>[moviegalaxies.com](http://moviegalaxies.com/movies): presents network metrics for every movie and<br />degree + betweenness centrality values for every character in the network.</small>

--

### Node-Degree Distribution

<br>
![Node-Degree Distribution](images/moretti-hamlet-node-degree-distribution.jpg)<!-- .element height="432px;" -->

<br>
<small>Source: –î–∞–ª—å–Ω–µ–µ —á—Ç–µ–Ω–∏–µ, p. 298</small>

--

### Power-law regression for Goethe's "G√∂tz"

![Goethe, G√∂tz](images/goethe-goetz-node-degree-distrib.png)<!-- .element height="500px;" -->

<small>plenty of "lower" characters ‚Äì few "average" characters ‚Äì very few "upper" characters</small>

--

### Reversed (!) power-law regression

![M√ºhsam, Judas](images/muehsam-judas-node-degree-distrib.png)<!-- .element height="500px;" -->

<small>plenty of "upper" characters</small>

--

### Different Network Types

<table>
  <tbody>
    <tr>
      <td style="font-size:0.6em;text-align:left;">J. W. v. Goethe, *G√∂tz* (1773) <br><b>Drama of the ‚Ä∫great individual‚Äπ</b> </td>
      <td style="font-size:0.6em;text-align:right;">Erich M√ºhsam, *Judas* (1921) <br><b>Drama of the crowds</b></td>
    </tr>
    <tr>
      <td><div style="text-align:left;"><img alt="G√∂tz, spring" src="images/goethe-goetz-network.png" height="300"></div></td>
      <td><div style="text-align:right;"><img alt="M√ºhsam, spring" src="images/muehsam-judas-network.png" height="300"></div></td>
    </tr>
    <tr>
      <td style="font-size:0.7em;text-align:left;"><b>Aristocratic model?</b></td>
      <td style="font-size:0.7em;text-align:right;"><b>Communist model?</b></td>
    </tr>
  </tbody>
</table>

<br />
<small>Cf. [our talk at DH2016](https://dlina.github.io/presentations/2016-krakow/).</small>

--

# ‚Üí

---

### Formalisation of Interactions

<br />
<pre><code class="hljs" data-trim contenteditable>
Source,Target,Weight
–ë–∞—Ä—ã–Ω—è,–í–∞—Ä–≤–∞—Ä–∞,2
–ë–∞—Ä—ã–Ω—è,–ö–∞–±–∞–Ω–æ–≤,1
–ë–∞—Ä—ã–Ω—è,–ö–∞–±–∞–Ω–æ–≤–∞,1
–ë–∞—Ä—ã–Ω—è,–ö–∞—Ç–µ—Ä–∏–Ω–∞,2
–ë–æ—Ä–∏—Å,–í–∞—Ä–≤–∞—Ä–∞,4
–ë–æ—Ä–∏—Å,–ì–ª–∞—à–∞,1
–ë–æ—Ä–∏—Å,–î–∏–∫–æ–π,1
–ë–æ—Ä–∏—Å,–ñ–µ–Ω—â–∏–Ω–∞,1
–ë–æ—Ä–∏—Å,–ö–∞–±–∞–Ω–æ–≤,1
–ë–æ—Ä–∏—Å,–ö–∞–±–∞–Ω–æ–≤–∞,1
–ë–æ—Ä–∏—Å,–ö–∞—Ç–µ—Ä–∏–Ω–∞,3
–ë–æ—Ä–∏—Å,–ö—É–¥—Ä—è—à,4
–ë–æ—Ä–∏—Å,–ö—É–ª–∏–≥–∏–Ω,3
–ë–æ—Ä–∏—Å,–ü–µ—Ä–≤—ã–π,1
–ë–æ—Ä–∏—Å,–§–µ–∫–ª—É—à–∞,1
...
</code></pre>

<br />
<small>Ostrovsky's "Groza", interactions encoded in a CSV list (comma-separated values).</small>

--

### Network Graph for Ostrovsky's "Groza"

![Network graph for Groza](images/rusplay-groza.png)<!-- .element height="500px;" -->

<small>Source: DS/FF. Visualisation with Python library igraph.</small>

--

### Pushkin, Boris Godunov (1/4)

![Network graph for Boris Godunov](images/rusplay-boris-godunov.png)<!-- .element height="500px;" -->

<small>Source: DS/FF.</small>

--

### Pushkin, Boris Godunov (2/4)

![Network graph for Boris Godunov, using Gephi](images/rusplay-godunov-gephi.png)<!-- .element height="500px;" -->

<small>Node size corresponding to degree.<br />(Source: DS/FF. Visualisation with Gephi.)</small>


--

### Pushkin, Boris Godunov (3/4)

![Network graph for Boris Godunov](images/rusplay-boris-godunov-betweenness.jpg)<!-- .element height="500px;" -->

<small>Node size corresponding to betweenness centrality.<br />(Source: DS/FF. Visualisation with Gephi.)</small>

--

### Character values for "Boris Godunov" (4/4)

<br />

| Character                      | Degree | Betweenness Centrality | Average Distance | Closeness Centrality |
|--------------------------------|--------|------------------------|------------------|----------------------|
| –ì—Ä–∏–≥–æ—Ä–∏–π –û—Ç—Ä–µ–ø—å–µ–≤ (–°–∞–º–æ–∑–≤–∞–Ω–µ—Ü) | 18     | 537.0                  | 16.61            | 0.06                 |
| –§–µ–æ–¥–æ—Ä                         | 17     | 276.28                 | 16.47            | 0.06                 |
| –ö—Å–µ–Ω–∏—è                         | 15     | 187.81                 | 16.51            | 0.06                 |
| **–ù–∞—Ä–æ–¥**                      | 11     | 606.93                 | 16.39            | 0.06                 |
| –ì–∞–≤—Ä–∏–ª–∞ –ü—É—à–∫–∏–Ω                 | 11     | **976.12**             | 16.14            | 0.06                 |
| –ë–∞—Å–º–∞–Ω–æ–≤                       | 11     | 862.69                 | 16.1             | 0.06                 |
| –ë–æ—Ä–∏—Å (–¶–∞—Ä—å)                   | 11     | 484.57                 | 16.27            | 0.06                 |
| –®—É–π—Å–∫–∏–π                        | 10     | 282.14                 | 16.35            | 0.06                 |

<br />
<small>Just two observations: **1.** The high betweenness centrality of –ì.¬†–ü—É—à–∫–∏–Ω (given the considerably lesser degree compared to other characters) suggests his significance in the network. ‚Äì **2.** The important role of undissolvable multitudes in a network. ("–ù–∞—Ä–æ–¥ –±–µ–∑–º–æ–ª–≤—Å—Ç–≤—É–µ—Ç.")</small>

--

### Comparison of 4 Russian Plays

<br />

| Play                 | Characters | Max Degree | Avg Degree | Density | Avg Path Length |
|----------------------|------------|------------|------------|---------|-----------------|
| –ë–æ—Ä–∏—Å –ì–æ–¥—É–Ω–æ–≤ (1825) | 80         | 18         | 5.37       | 0.07    | 3.4             |
| –ì–æ—Ä–µ –æ—Ç —É–º–∞ (1825)   | 29         | 19         | 9.45       | 0.34    | 1.94            |
| –†–µ–≤–∏–∑–æ—Ä (1836)       | 26         | 23         | 11.0       | 0.44    | 1.62            |
| –ì—Ä–æ–∑–∞ (1859)         | 19         | 16         | 8.21       | 0.46    | 1.57            |

<br />
<small>Well, there is not much you can read into these only four plays, other than to factualise that "–ë–æ—Ä–∏—Å –ì–æ–¥—É–Ω–æ–≤" can be rightly called a closet drama. Much more data is needed to calculate and observe general changes over time.</small>

--

### Some More Popular Examples

<br />
- [Downton Abbey](http://letstalkdata.com/2013/08/a-social-network-of-downton-abbey/)
- [Game of Thrones](https://www.macalester.edu/~abeverid/thrones.html)
- [Star Wars (the 6 first movies)](http://evelinag.com/blog/2015/12-15-star-wars-social-network/index.html)
- [Star Wars: The Force Awakens](http://evelinag.com/blog/2016/01-25-social-network-force-awakens/index.html)
- [Sherlock](http://obotligtnyfiken.se/sherlock/sherlock-statistics/who-meets-whom-in-which-episode/)

--

# ‚Üí

---

## Seminar

<br />
Introduction to Gephi

</script>
			    </section>
			</div>
		</div>

		<script src="../reveal/lib/js/head.min.js"></script>
		<script src="../reveal/js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: '../reveal/plugin/markdown/marked.js' },
					{ src: '../reveal/plugin/markdown/markdown.js' },
					{ src: '../reveal/plugin/notes/notes.js', async: true },
					{ src: '../reveal/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
